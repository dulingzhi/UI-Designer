# 魔兽3 UI 设计器 - 待办事项

## ✅ 已完成功能

### 核心功能
- [x] 项目管理 - 新建、保存、加载项目
- [x] 控件管理 - 创建、编辑、删除控件
- [x] 多选操作 - 支持 Ctrl/Shift 多选控件
- [x] 拖拽操作 - 拖动控件、调整大小
- [x] 层级管理 - 控件父子关系、Z轴排序
- [x] 锁定/解锁 - 控件锁定防止误操作
- [x] 可见性切换 - 显示/隐藏控件

### 撤销/重做系统
- [x] 命令模式架构 - 所有操作可撤销/重做
- [x] 历史面板 - 显示操作历史列表
- [x] 历史跳转 - 点击任意历史项跳转到该状态
- [x] 批量操作 - 批量删除一次 undo 恢复
- [x] 快捷键支持 - Ctrl+Z / Ctrl+Y

### 导出功能
- [x] FDF 格式导出 - 魔兽3原生格式
- [x] JSON 格式导出 - 数据交换格式
- [x] PNG 预览图导出 - 画布截图
- [x] 代码导出 - JASS/Lua/TypeScript

### 模板系统
- [x] 基础控件模板 - Button、Text、Backdrop 等
- [x] 组合模板 - 技能栏、背包、状态栏等
- [x] 模板分类 - 按类型分类浏览
- [x] 一键创建 - 从模板快速创建控件

### 对齐与辅助
- [x] 智能参考线 - 拖动时自动显示对齐参考线
- [x] 网格显示 - 可切换网格显示/隐藏
- [x] 网格吸附 - 自动吸附到网格点
- [x] 网格大小调整 - 0.005/0.01/0.02/0.05
- [x] 锚点可视化 - 显示/隐藏控件锚点

### 画布功能
- [x] 缩放 - 鼠标滚轮缩放、快捷键缩放
- [x] 平移 - 拖动画布、居中
- [x] 背景图设置 - 切换不同背景图
- [x] 缩放比例显示 - 实时显示当前缩放

### 控件复制
- [x] 控件复制/粘贴 - Ctrl+C / Ctrl+V
- [x] 控件复制 - Ctrl+D 快速复制
- [x] 递归复制 - 复制控件及其所有子控件
- [x] 偏移粘贴 - 粘贴时自动偏移位置

### 样式复制/粘贴
- [x] 样式复制功能 - Ctrl+Shift+C 复制控件样式属性
- [x] 样式粘贴功能 - Ctrl+Shift+V 应用样式到其他控件
- [x] 批量应用样式 - 支持一次性应用到多个选中控件
- [x] 撤销/重做支持 - 样式粘贴可撤销恢复

### 搜索/筛选功能
- [x] 项目树搜索框 - 实时按名称搜索控件
- [x] 类型筛选 - 按控件类型筛选显示
- [x] 属性筛选 - 按可见性、锁定状态筛选
- [x] 组合筛选 - 支持多条件组合筛选

### 标尺显示
- [x] 画布标尺 - 顶部和左侧显示标尺
- [x] 自动刻度调整 - 根据缩放级别自动调整刻度间隔
- [x] WC3坐标显示 - 显示魔兽3坐标系
- [x] 标尺切换 - 菜单中可显示/隐藏标尺

### 自定义参考线 ✨ NEW
- [x] 从标尺拖拽创建 - 鼠标从标尺拖拽到画布创建参考线
- [x] 参考线移动 - 拖拽参考线调整位置
- [x] 参考线删除 - 双击/右键删除，Ctrl+; 清除全部
- [x] 参考线吸附 - 控件自动吸附到参考线
- [x] 位置提示 - 悬停显示参考线位置
- [x] 画布缩放适配 - 参考线跟随画布缩放
- [x] 数据持久化 - 参考线随项目保存/加载

### 快捷键系统
- [x] 完整快捷键支持 - 60+ 快捷键
- [x] 快捷键帮助 - F1 查看所有快捷键
- [x] 组合键支持 - Ctrl/Shift/Alt 组合

### UI/UX 改进
- [x] 深色主题 - 专业的深色界面
- [x] 确认对话框 - 美化的 UI 确认框
- [x] 全局删除确认 - 统一的删除确认流程
- [x] 面板折叠 - 项目树、属性面板可折叠

---

## ❌ 待实现功能

### 样式管理
- [ ] 样式预设保存 - 保存常用样式组合为预设
- [ ] 样式预设应用 - 从预设列表快速应用样式
- [ ] 样式库管理 - 管理样式预设库

### 搜索增强
- [ ] 高亮搜索结果 - 在画布上高亮显示搜索到的控件
- [ ] 属性值搜索 - 按属性值搜索（如：颜色、大小）
- [ ] 正则表达式搜索 - 支持更强大的搜索模式

### 性能优化
- [ ] 虚拟化渲染 - 大量控件时优化渲染性能
- [ ] 懒加载 - 延迟加载非可见区域的控件
- [ ] 渲染缓存 - 缓存静态控件渲染结果

### 协作功能
- [ ] 导入/导出配置 - 共享项目配置
- [ ] 版本控制集成 - Git 集成
- [ ] 项目模板 - 保存/加载项目模板

---

## 🎯 下一步建议

**高价值功能**（提升用户体验）：

1. **样式预设系统** (中等难度) ⭐ 推荐
   - 扩展现有样式复制功能
   - 建立样式库提升效率
   - 保持设计一致性
   - 可以保存常用按钮、文本样式等

2. **高亮搜索结果** (简单) ⭐ 推荐
   - 增强搜索功能可用性
   - 快速定位控件
   - 改善大项目导航
   - 在画布上高亮显示搜索到的控件

3. **属性值搜索** (简单-中等)
   - 按属性值搜索（如：颜色、大小）
   - 查找所有红色按钮、特定尺寸的控件
   - 批量修改相同属性的控件

**性能优化**（当项目变大时）：

4. **虚拟化渲染** (高难度)
   - 处理大型项目（1000+ 控件）
   - 显著提升性能
   - 需要重构渲染逻辑

**其他有用功能**：

5. **框选后的批量操作** (简单-中等)
   - 框选多个控件后批量设置属性
   - 批量对齐、分布
   - 批量应用样式

6. **控件组合** (中等)
   - 将多个控件组合成一个整体
   - 便于统一移动和管理
   - 可以保存为自定义模板

---

## 📝 备注

- 所有已完成功能都经过测试
- 快捷键系统完善，建议优先保持
- 命令模式架构稳定，易于扩展
- UI 主题统一，新功能需保持风格一致
